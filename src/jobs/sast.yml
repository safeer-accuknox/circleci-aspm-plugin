description: >
  Accuknox SAST Scan
parameters:
  INPUT_SOFT_FAIL:
    description: "Do not return an error code if there are failed checks"
    default: true
    type: boolean
  SKIP_SONAR_SCAN:
    description: "Peform Sonarqube scan"
    default: false
    type: boolean
executor: sast
steps:
  - checkout
  - setup_remote_docker:
      docker_layer_caching: true
  - sast-scan:
      INPUT_SOFT_FAIL: <<parameters.INPUT_SOFT_FAIL>>
      SKIP_SONAR_SCAN: <<parameters.SKIP_SONAR_SCAN>>